{
  "schema": "governance.reason-codes.registry.v1",
  "version": "1.0.0",
  "blocked_reasons": [
    {
      "code": "BLOCKED-MISSING-BINDING-FILE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Installer-owned binding evidence file is missing.",
      "remediation_hint": "Restore governance.paths.json at canonical commands root and rerun."
    },
    {
      "code": "BLOCKED-VARIABLE-RESOLUTION",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required canonical variables could not be resolved deterministically.",
      "remediation_hint": "Fix binding paths and rerun bootstrap evidence collection."
    },
    {
      "code": "BLOCKED-WORKSPACE-PERSISTENCE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Workspace persistence contract failed for required artifacts.",
      "remediation_hint": "Resolve lock/path issues and rerun persistence helper."
    },
    {
      "code": "BLOCKED-ENGINE-SELFCHECK",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Engine selfcheck failed and runtime activation is blocked.",
      "remediation_hint": "Repair deterministic contracts and rerun selfcheck diagnostics."
    },
    {
      "code": "BLOCKED-REPO-IDENTITY-RESOLUTION",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Repository identity could not be resolved under active policy.",
      "remediation_hint": "Provide git identity evidence or run from a valid repository root."
    },
    {
      "code": "BLOCKED-SYSTEM-MODE-REQUIRED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Requested surface requires stricter system mode.",
      "remediation_hint": "Switch to system mode or narrow requested operation scope."
    },
    {
      "code": "BLOCKED-OPERATING-MODE-REQUIRED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Requested operation violates operating-mode minimum requirements.",
      "remediation_hint": "Use required mode or reduce operation scope."
    },
    {
      "code": "BLOCKED-STATE-OUTDATED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Persisted session state is stale for current deterministic contract.",
      "remediation_hint": "Rehydrate session state from canonical evidence and rerun."
    },
    {
      "code": "BLOCKED-PACK-LOCK-REQUIRED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Pack lock is required but missing.",
      "remediation_hint": "Generate deterministic pack lock and retry."
    },
    {
      "code": "BLOCKED-PACK-LOCK-INVALID",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Observed pack lock is invalid.",
      "remediation_hint": "Regenerate pack lock from canonical manifest set."
    },
    {
      "code": "BLOCKED-PACK-LOCK-MISMATCH",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Observed pack lock hash differs from expected hash.",
      "remediation_hint": "Sync lockfile with selected packs and engine version."
    },
    {
      "code": "BLOCKED-SURFACE-CONFLICT",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Selected packs define conflicting surface ownership.",
      "remediation_hint": "Resolve pack conflicts before activation."
    },
    {
      "code": "BLOCKED-RULESET-HASH-MISMATCH",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Observed ruleset hash does not match expected deterministic hash.",
      "remediation_hint": "Recompute ruleset hash and refresh persisted state."
    },
    {
      "code": "BLOCKED-ACTIVATION-HASH-MISMATCH",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Observed activation hash does not match expected deterministic hash.",
      "remediation_hint": "Regenerate activation metadata from current canonical inputs."
    },
    {
      "code": "BLOCKED-RELEASE-HYGIENE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Release hygiene checks failed under strict mode.",
      "remediation_hint": "Fix release metadata and rerun hygiene selfcheck."
    },
    {
      "code": "BLOCKED-SESSION-STATE-LEGACY-UNSUPPORTED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Legacy session-state format is unsupported in active rollout phase.",
      "remediation_hint": "Migrate session state to current schema version."
    },
    {
      "code": "BLOCKED-UNSPECIFIED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Blocked decision without a more specific canonical reason code.",
      "remediation_hint": "Inspect deterministic gate evidence and map to specific reason code."
    },
    {
      "code": "BLOCKED-PERSISTENCE-TARGET-DEGENERATE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Persistence target resolved to forbidden or degenerate location.",
      "remediation_hint": "Repair persistence path inputs and retry atomic write."
    },
    {
      "code": "BLOCKED-PERSISTENCE-PATH-VIOLATION",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Persistence path violates allowed contract boundaries.",
      "remediation_hint": "Use canonical workspace/config-root scoped persistence paths."
    },
    {
      "code": "BLOCKED-INSTALL-PRECHECK-MISSING-SOURCE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Installer precheck failed because required source artifacts are missing.",
      "remediation_hint": "Restore installer source files or extract a valid release bundle."
    },
    {
      "code": "BLOCKED-INSTALL-VERSION-MISSING",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Installer could not find governance version metadata.",
      "remediation_hint": "Ensure master.md contains a valid Governance-Version header."
    },
    {
      "code": "BLOCKED-INSTALL-CONFIG-ROOT-INVALID",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Installer config root is invalid or unusable.",
      "remediation_hint": "Provide a writable canonical config root and rerun installer."
    },
    {
      "code": "BLOCKED-PERMISSION-DENIED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Host capabilities do not satisfy required permission policy.",
      "remediation_hint": "Run with required host permissions or narrow target surface."
    },
    {
      "code": "BLOCKED-EXEC-DISALLOWED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Command execution capability is disallowed for this run.",
      "remediation_hint": "Enable required execution capability in host policy."
    },
    {
      "code": "BLOCKED-FINGERPRINT-MISMATCH",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Session state fingerprint does not match live repo identity.",
      "remediation_hint": "Re-bootstrap session state from current repo root."
    },
    {
      "code": "BLOCKED-BOOTSTRAP-NOT-SATISFIED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Bootstrap gates are not satisfied; kernel cannot proceed.",
      "remediation_hint": "Run /start to complete bootstrap evidence collection."
    },
    {
      "code": "BLOCKED-START-REQUIRED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Valid /start evidence is required before /master can proceed.",
      "remediation_hint": "Execute /start to establish start-order evidence."
    },
    {
      "code": "BLOCKED-MISSING-CORE-RULES",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Core rules file (rules.md) could not be loaded.",
      "remediation_hint": "Restore rules.md at the expected governance path."
    },
    {
      "code": "BLOCKED-MISSING-PROFILE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required active profile is missing and cannot be resolved.",
      "remediation_hint": "Select a valid profile or provide profile evidence."
    },
    {
      "code": "BLOCKED-AMBIGUOUS-PROFILE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Profile resolution is non-deterministic due to ambiguity.",
      "remediation_hint": "Resolve profile ambiguity by explicit selection or evidence."
    },
    {
      "code": "BLOCKED-MISSING-DECISION",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "No valid decision options can be produced for the current gate.",
      "remediation_hint": "Provide required decision evidence or inputs."
    },
    {
      "code": "BLOCKED-MISSING-TEMPLATES",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required templates cannot be resolved or loaded.",
      "remediation_hint": "Restore template files at expected governance paths."
    },
    {
      "code": "BLOCKED-MISSING-RULEBOOK",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Unresolved top-tier rulebook file blocks activation.",
      "remediation_hint": "Provide the missing rulebook file at the expected path."
    },
    {
      "code": "BLOCKED-MISSING-ADDON",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required addon rulebook is missing and cannot be loaded.",
      "remediation_hint": "Install or restore the required addon rulebook."
    },
    {
      "code": "BLOCKED-ADDON-CONFLICT",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Activated addons have conflicting ownership or constraints.",
      "remediation_hint": "Resolve addon conflicts by deactivating or merging conflicting addons."
    },
    {
      "code": "BLOCKED-ACTIVATION-DELTA-MISMATCH",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Activation outcome differs while input hashes remain unchanged.",
      "remediation_hint": "Investigate non-deterministic activation and fix input drift."
    },
    {
      "code": "BLOCKED-RULEBOOK-EVIDENCE-MISSING",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required evidence for rulebook claims is missing.",
      "remediation_hint": "Provide required evidence artifacts for rulebook verification."
    },
    {
      "code": "BLOCKED-WORKSPACE-MEMORY-INVALID",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Workspace memory state is invalid or corrupted.",
      "remediation_hint": "Reset workspace memory and re-bootstrap."
    },
    {
      "code": "BLOCKED-MISSING-EVIDENCE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required activation evidence is missing for deterministic resolution.",
      "remediation_hint": "Provide missing evidence artifacts and rerun activation."
    },
    {
      "code": "BLOCKED-RESUME-STATE-VIOLATION",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Persisted SESSION_STATE violates the canonical schema on resume.",
      "remediation_hint": "Repair or regenerate session state from canonical evidence."
    },
    {
      "code": "BLOCKED-GOLDEN-BASELINE-MODIFIED-IN-PR",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Golden baseline files were modified in a PR, risking regression masking.",
      "remediation_hint": "Revert baseline modifications or get explicit approval."
    },
    {
      "code": "BLOCKED-Phase2-RepoDiscovery",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Phase 2 repo discovery could not complete.",
      "remediation_hint": "Ensure valid repo context and retry discovery."
    },
    {
      "code": "BLOCKED-R",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "A recovery routine is required to proceed (explicit recovery gate).",
      "remediation_hint": "Run /resume or the defined recovery routine and re-validate SESSION_STATE."
    },
    {
      "code": "BLOCKED-MISSING-DB-VERSION",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "DB_TARGET_PG_MAJOR is not declared for database migrations.",
      "remediation_hint": "Declare DB_TARGET_PG_MAJOR in project configuration."
    },
    {
      "code": "BLOCKED-FORMAT-UNDEFINED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Migration format declaration is missing or mixed without policy.",
      "remediation_hint": "Define explicit format declaration for migration artifacts."
    },
    {
      "code": "BLOCKED-MIGRATION-UNSAFE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Migration contains unsafe operations.",
      "remediation_hint": "Review and fix unsafe migration operations."
    },
    {
      "code": "BLOCKED-MIGRATION-NO-ROLLBACK",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Migration has no rollback plan.",
      "remediation_hint": "Add rollback changeset for migration."
    },
    {
      "code": "BLOCKED-MIGRATION-COMPATIBILITY",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Migration has compatibility issues.",
      "remediation_hint": "Fix compatibility issues in migration definition."
    },
    {
      "code": "REPO-DOC-UNSAFE-DIRECTIVE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_repo_doc_unsafe.v1.json",
      "description": "Repo document contains a directive classified as unsafe.",
      "remediation_hint": "Remove or neutralize unsafe repo-doc directive and rerun."
    },
    {
      "code": "REPO-CONSTRAINT-WIDENING",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_repo_constraint_widening.v1.json",
      "description": "Repo constraint requests widening of write/command scope beyond policy envelope.",
      "remediation_hint": "Require explicit widening approval or keep within policy constraints."
    },
    {
      "code": "INTERACTIVE-REQUIRED-IN-PIPELINE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_interactive_pipeline.v1.json",
      "description": "Pipeline mode cannot satisfy interactive approval requirements.",
      "remediation_hint": "Remove interactive requirement or rerun in user/agents_strict mode."
    },
    {
      "code": "PROMPT-BUDGET-EXCEEDED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_prompt_budget.v1.json",
      "description": "Prompt budget exceeded for the active mode.",
      "remediation_hint": "Reduce prompts or increase budget through explicit policy change."
    },
    {
      "code": "PERSIST_CONFIRMATION_REQUIRED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Persistence action requires explicit operator confirmation evidence.",
      "remediation_hint": "Record explicit confirmation evidence and retry persistence."
    },
    {
      "code": "PERSIST_CONFIRMATION_INVALID",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Provided persistence confirmation evidence is invalid.",
      "remediation_hint": "Provide exact confirmation token and retry."
    },
    {
      "code": "PERSIST_DISALLOWED_IN_PIPELINE",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Requested persistence confirmation flow is disallowed in pipeline mode.",
      "remediation_hint": "Run in user/agents_strict mode with explicit confirmation evidence."
    },
    {
      "code": "PERSIST_PHASE_MISMATCH",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Persistence artifact is not allowed in the current phase.",
      "remediation_hint": "Move to required phase/gate and retry."
    },
    {
      "code": "PERSIST_GATE_NOT_APPROVED",
      "severity": "blocked",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_blocked_core.v1.json",
      "description": "Required phase gate approval for persistence is missing.",
      "remediation_hint": "Complete gate approvals and retry persistence."
    }
  ],
  "audit_events": [
    {
      "code": "REPO-CONSTRAINT-UNSUPPORTED",
      "severity": "not_verified",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_repo_constraint_unsupported.v1.json",
      "description": "Repo document contains unsupported constraint domains.",
      "remediation_hint": "Convert unsupported constraint into approved policy domain or ignore as non-authoritative."
    },
    {
      "code": "POLICY-PRECEDENCE-APPLIED",
      "severity": "ok",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_policy_precedence.v1.json",
      "description": "Policy precedence resolution has been applied and logged.",
      "remediation_hint": "Inspect precedence event payload and involved hash refs."
    },
    {
      "code": "WARN-UNMAPPED-AUDIT-REASON",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Audit reason was unmapped and emitted as warning fallback.",
      "remediation_hint": "Map audit reason to canonical event or suppress at source."
    },
    {
      "code": "WARN-WORKSPACE-PERSISTENCE",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Workspace persistence helper reported degraded completion.",
      "remediation_hint": "Inspect workspace persistence diagnostics and retry."
    },
    {
      "code": "WARN-ENGINE-LIVE-DENIED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Live engine mode was denied by deterministic policy gates.",
      "remediation_hint": "Adjust requested mode or satisfy policy prerequisites."
    },
    {
      "code": "WARN-MODE-DOWNGRADED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Requested operating mode was downgraded due to capability constraints.",
      "remediation_hint": "Grant required host capabilities or run with downgraded expectations."
    },
    {
      "code": "WARN-PERMISSION-LIMITED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Execution proceeded under reduced permissions.",
      "remediation_hint": "Restore missing permissions to recover full deterministic behavior."
    },
    {
      "code": "WARN-SESSION-STATE-LEGACY-COMPAT-MODE",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Legacy session-state compatibility mode was used.",
      "remediation_hint": "Migrate session-state artifacts to canonical field set."
    },
    {
      "code": "NOT_VERIFIED-MISSING-EVIDENCE",
      "severity": "not_verified",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Required evidence was missing for full verification.",
      "remediation_hint": "Provide required evidence and rerun deterministic checks."
    },
    {
      "code": "NOT_VERIFIED-EVIDENCE-STALE",
      "severity": "not_verified",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Required evidence was present but stale.",
      "remediation_hint": "Refresh stale evidence and rerun verification."
    },
    {
      "code": "WARN-DOCS-README-DRIFT",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "README documentation has drifted from canonical source.",
      "remediation_hint": "Sync README with canonical documentation source."
    },
    {
      "code": "WARN-DOCS-SCHEMA-DRIFT",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Schema documentation has drifted from canonical source.",
      "remediation_hint": "Sync schema docs with canonical schema definitions."
    },
    {
      "code": "WARN-DOCS-MANIFEST-RULEBOOK-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Manifest references a rulebook that is not present.",
      "remediation_hint": "Add the missing rulebook or remove the manifest reference."
    },
    {
      "code": "WARN-FALLBACK-BASELINE-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Fallback baseline version could not be determined.",
      "remediation_hint": "Declare explicit fallback baseline version."
    },
    {
      "code": "WARN-FALLBACK-TESTING-INSUFFICIENT",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Fallback testing coverage is insufficient.",
      "remediation_hint": "Add required fallback test coverage."
    },
    {
      "code": "WARN-FALLBACK-RECOVERY-UNSPECIFIED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Fallback recovery procedure is not specified.",
      "remediation_hint": "Document explicit fallback recovery procedure."
    },
    {
      "code": "WARN-PRINCIPAL-EVIDENCE-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Principal evidence for decision traceability is missing.",
      "remediation_hint": "Provide principal identity evidence for audit trail."
    },
    {
      "code": "WARN-SCORECARD-CALIBRATION-INCOMPLETE",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Scorecard calibration is incomplete for active profile.",
      "remediation_hint": "Complete scorecard calibration for all active dimensions."
    },
    {
      "code": "WARN-RISK-TIER-UNRESOLVED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Risk tier could not be resolved from available evidence.",
      "remediation_hint": "Provide risk classification evidence or declare tier explicitly."
    },
    {
      "code": "WARN-OPENAPI-SPEC-IMPLEMENTATION-MISMATCH",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "OpenAPI spec diverges from observed implementation.",
      "remediation_hint": "Sync OpenAPI spec with implementation or flag accepted deviation."
    },
    {
      "code": "WARN-OPENAPI-VERSION-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "OpenAPI spec version could not be determined.",
      "remediation_hint": "Declare explicit OpenAPI version in spec metadata."
    },
    {
      "code": "WARN-OPENAPI-MISSING-SPEC",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Expected OpenAPI spec file is missing.",
      "remediation_hint": "Add OpenAPI spec at the expected path."
    },
    {
      "code": "WARN-OPENAPI-BREAKING-CHANGE-UNAPPROVED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Breaking API change detected without explicit approval.",
      "remediation_hint": "Get explicit approval for breaking API change or revert."
    },
    {
      "code": "WARN-FE-OPENAPI-GENERATOR-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Frontend OpenAPI code generator is unknown or undeclared.",
      "remediation_hint": "Declare OpenAPI generator in project configuration."
    },
    {
      "code": "WARN-FE-OPENAPI-DRIFT-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Frontend OpenAPI client may drift from backend spec.",
      "remediation_hint": "Verify frontend client generation is synced with backend spec."
    },
    {
      "code": "WARN-FE-OPENAPI-NO-NEGATIVE-TEST",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "No negative tests for frontend OpenAPI integration.",
      "remediation_hint": "Add negative test cases for API error paths."
    },
    {
      "code": "WARN-FE-OPENAPI-SOURCE-UNRESOLVED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Frontend OpenAPI source spec could not be resolved.",
      "remediation_hint": "Provide resolvable path or URL for upstream OpenAPI spec."
    },
    {
      "code": "WARN-FE-OPENAPI-MAPPING-DRIFT-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Frontend OpenAPI mapping may have drifted from canonical spec.",
      "remediation_hint": "Regenerate frontend mappings from canonical OpenAPI spec."
    },
    {
      "code": "WARN-FE-OPENAPI-CONTRACT-TEST-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Contract tests for frontend OpenAPI integration are missing.",
      "remediation_hint": "Add contract tests verifying frontend-backend API agreement."
    },
    {
      "code": "WARN-KAFKA-IDEMPOTENCY-UNVERIFIED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Kafka consumer idempotency is not verified.",
      "remediation_hint": "Add idempotency verification tests for Kafka consumers."
    },
    {
      "code": "WARN-KAFKA-RETRY-POLICY-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Kafka retry policy is unknown or undeclared.",
      "remediation_hint": "Declare explicit retry policy for Kafka consumers."
    },
    {
      "code": "WARN-KAFKA-ASYNC-FLAKINESS-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Kafka async processing has flakiness risk in tests.",
      "remediation_hint": "Stabilize async Kafka test patterns to reduce flakiness."
    },
    {
      "code": "WARN-CYPRESS-FLAKY-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cypress test suite has elevated flakiness risk.",
      "remediation_hint": "Review and stabilize flaky Cypress test patterns."
    },
    {
      "code": "WARN-CYPRESS-SELECTOR-UNSTABLE",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cypress selectors may be unstable across DOM changes.",
      "remediation_hint": "Use data-testid or stable selectors for Cypress tests."
    },
    {
      "code": "WARN-CYPRESS-NO-CRITICAL-FLOW-COVERAGE",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Critical user flows lack Cypress test coverage.",
      "remediation_hint": "Add Cypress tests for all critical user flows."
    },
    {
      "code": "WARN-CYPRESS-NETWORK-CONTROL-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cypress tests lack network request control.",
      "remediation_hint": "Add cy.intercept or equivalent network control to Cypress tests."
    },
    {
      "code": "WARN-CYPRESS-CRITICAL-PATH-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Critical path test coverage is missing for Cypress suite.",
      "remediation_hint": "Add critical path tests to Cypress test suite."
    },
    {
      "code": "WARN-CYPRESS-ASYNC-FLAKE-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cypress tests have async flake risk due to timing issues.",
      "remediation_hint": "Use proper Cypress waiting strategies to eliminate async flakes."
    },
    {
      "code": "WARN-CUCUMBER-VERSION-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cucumber framework version is unknown or undeclared.",
      "remediation_hint": "Declare explicit Cucumber version in project configuration."
    },
    {
      "code": "WARN-CUCUMBER-RUNNER-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cucumber test runner is unknown or undeclared.",
      "remediation_hint": "Declare explicit Cucumber runner in project configuration."
    },
    {
      "code": "WARN-CUCUMBER-CONVENTIONS-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cucumber naming/tagging conventions are undeclared.",
      "remediation_hint": "Document Cucumber conventions in project configuration."
    },
    {
      "code": "WARN-CUCUMBER-FLAKINESS-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Cucumber tests have elevated flakiness risk.",
      "remediation_hint": "Review and stabilize flaky Cucumber scenarios."
    },
    {
      "code": "WARN-CUCUMBER-NO-EVIDENCE",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "No evidence for Cucumber test execution was found.",
      "remediation_hint": "Provide Cucumber test execution evidence or CI artifacts."
    },
    {
      "code": "WARN-JAVA-DETERMINISM-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Java build or test process has non-determinism risk.",
      "remediation_hint": "Pin Java dependencies and use reproducible build settings."
    },
    {
      "code": "WARN-BUILD-TOOL-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Repository build file detected but corresponding build tool is not available on PATH.",
      "remediation_hint": "Install the missing build tool or add it to PATH, then restart the session."
    },
    {
      "code": "WARN-ANGULAR-BOUNDARY-DRIFT",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Nx tag/project boundary mismatch detected in Angular workspace.",
      "remediation_hint": "Align project tags and imports to match Nx boundary configuration."
    },
    {
      "code": "WARN-ANGULAR-STATE-PATTERN-MIX",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Multiple state management patterns detected without repo evidence for intentional mix.",
      "remediation_hint": "Consolidate to the repo-standard state management pattern."
    },
    {
      "code": "WARN-ANGULAR-ASYNC-DETERMINISM",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Async test without deterministic control detected in Angular component.",
      "remediation_hint": "Add explicit timing/mock control to async test assertions."
    },
    {
      "code": "WARN-PYTHON-MIGRATION-ROLLBACK-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Database migration change without rollback evidence.",
      "remediation_hint": "Add down-migration and test both upgrade and downgrade directions."
    },
    {
      "code": "WARN-PYTHON-ASYNC-DETERMINISM",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Async test without deterministic control detected in Python module.",
      "remediation_hint": "Add explicit async mock/fixture control to ensure test determinism."
    },
    {
      "code": "WARN-PYTHON-TYPE-CHECK-SKIPPED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Type checker not available in the environment.",
      "remediation_hint": "Install mypy or pyright and run against changed modules."
    },
    {
      "code": "WARN-LIQUIBASE-PG-VERSION-UNKNOWN",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "PostgreSQL version could not be determined for Liquibase migration validation.",
      "remediation_hint": "Provide PostgreSQL version evidence or configure version in Liquibase properties."
    },
    {
      "code": "WARN-LIQUIBASE-ROLLBACK-MISSING",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Liquibase changeset missing rollback definition.",
      "remediation_hint": "Add rollback section to the changeset and test both directions."
    },
    {
      "code": "WARN-LIQUIBASE-LOCK-RISK",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Liquibase migration may acquire long-held locks on production tables.",
      "remediation_hint": "Review lock duration, consider online DDL alternatives, or add lock timeout configuration."
    },
    {
      "code": "WARN-LIQUIBASE-DATA-MIGRATION-UNVERIFIED",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "Liquibase data migration changeset has not been verified against realistic data volume.",
      "remediation_hint": "Run the migration against a staging dataset of representative size and measure duration."
    },
    {
      "code": "WARN-SESSION-STATE-SCHEMA-VIOLATION",
      "severity": "warn",
      "payload_schema_ref": "diagnostics/schemas/reason_payload_advisory.v1.json",
      "description": "SESSION_STATE document failed schema or invariant validation.",
      "remediation_hint": "Fix schema violations or invariant errors. Run schema validation for details."
    }
  ]
}
